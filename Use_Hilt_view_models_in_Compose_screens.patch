Subject: [PATCH] Use Hilt view models in Compose screens
---
Index: app/src/main/java/com/timmay/tarot/ui/screens/HomeScreen.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/timmay/tarot/ui/screens/HomeScreen.kt b/app/src/main/java/com/timmay/tarot/ui/screens/HomeScreen.kt
--- a/app/src/main/java/com/timmay/tarot/ui/screens/HomeScreen.kt	(revision 467a472bee8cb76c1ceecadab11fc94615898f80)
+++ b/app/src/main/java/com/timmay/tarot/ui/screens/HomeScreen.kt	(revision 843f69390eccf9cb6d48d5f3c51d71a778350d65)
@@ -15,12 +15,12 @@
 import androidx.compose.ui.Alignment
 import androidx.compose.ui.Modifier
 import androidx.compose.ui.unit.dp
-import androidx.lifecycle.viewmodel.compose.viewModel
+import androidx.hilt.navigation.compose.hiltViewModel
 import androidx.navigation.NavController
 import com.timmay.tarot.viewmodel.HomeViewModel
 
 @Composable
-fun HomeScreen(nav: NavController, vm: HomeViewModel = viewModel()) {
+fun HomeScreen(nav: NavController, vm: HomeViewModel = hiltViewModel()) {
     val dailyCard by vm.dailyCard.collectAsState()
 
     LaunchedEffect(Unit) {
Index: app/src/main/java/com/timmay/tarot/ui/screens/ReadingScreen.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/timmay/tarot/ui/screens/ReadingScreen.kt b/app/src/main/java/com/timmay/tarot/ui/screens/ReadingScreen.kt
--- a/app/src/main/java/com/timmay/tarot/ui/screens/ReadingScreen.kt	(revision 467a472bee8cb76c1ceecadab11fc94615898f80)
+++ b/app/src/main/java/com/timmay/tarot/ui/screens/ReadingScreen.kt	(revision 843f69390eccf9cb6d48d5f3c51d71a778350d65)
@@ -32,13 +32,13 @@
 import androidx.compose.ui.graphics.Brush
 import androidx.compose.ui.graphics.Color
 import androidx.compose.ui.unit.dp
-import androidx.lifecycle.viewmodel.compose.viewModel
+import androidx.hilt.navigation.compose.hiltViewModel
 import coil.compose.rememberAsyncImagePainter
 import com.timmay.tarot.viewmodel.ReadingViewModel
 
 
 @Composable
-fun ReadingScreen(spreadId: String, vm: ReadingViewModel = viewModel()) {
+fun ReadingScreen(spreadId: String, vm: ReadingViewModel = hiltViewModel()) {
     val ui by vm.ui.collectAsState()
     LaunchedEffect(spreadId) { vm.start(spreadId) }
 
Index: app/src/main/java/com/timmay/tarot/ui/screens/SpreadPickerScreen.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/timmay/tarot/ui/screens/SpreadPickerScreen.kt b/app/src/main/java/com/timmay/tarot/ui/screens/SpreadPickerScreen.kt
--- a/app/src/main/java/com/timmay/tarot/ui/screens/SpreadPickerScreen.kt	(revision 467a472bee8cb76c1ceecadab11fc94615898f80)
+++ b/app/src/main/java/com/timmay/tarot/ui/screens/SpreadPickerScreen.kt	(revision 843f69390eccf9cb6d48d5f3c51d71a778350d65)
@@ -16,12 +16,12 @@
 import androidx.compose.runtime.getValue
 import androidx.compose.ui.Modifier
 import androidx.compose.ui.unit.dp
-import androidx.lifecycle.viewmodel.compose.viewModel
+import androidx.hilt.navigation.compose.hiltViewModel
 import androidx.navigation.NavController
 import com.timmay.tarot.viewmodel.SpreadPickerViewModel
 
 @Composable
-fun SpreadPickerScreen(nav: NavController, vm: SpreadPickerViewModel = viewModel()) {
+fun SpreadPickerScreen(nav: NavController, vm: SpreadPickerViewModel = hiltViewModel()) {
     val spreads by vm.spreads.collectAsState()
 
     LaunchedEffect(Unit) {
